<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Curso Data Wrangling con R</title>
  <meta name="description" content="Curso Data Wrangling con R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Curso Data Wrangling con R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Curso Data Wrangling con R" />
  
  
  

<meta name="author" content="Jhosse Paul Márquez Ruíz">
<meta name="author" content="Fernando Daniel Hernández Sánchez">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-y-rstudio.html">
<link rel="next" href="funciones.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Objetivo y Requisitos</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#objetivo"><i class="fa fa-check"></i><b>1.1</b> Objetivo</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#requisitos"><i class="fa fa-check"></i><b>1.2</b> Requisitos</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i><b>1.3</b> Temario</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html"><i class="fa fa-check"></i><b>2</b> R y RStudio</a><ul>
<li class="chapter" data-level="2.0.1" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#que-es-r"><i class="fa fa-check"></i><b>2.0.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="2.0.2" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#por-que-y-cuando-usar-r"><i class="fa fa-check"></i><b>2.0.2</b> ¿Por qué y cuando usar R?</a></li>
<li class="chapter" data-level="2.0.3" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#benchmark"><i class="fa fa-check"></i><b>2.0.3</b> Benchmark</a></li>
<li class="chapter" data-level="2.1" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#instalacion"><i class="fa fa-check"></i><b>2.1</b> Instalación</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#instalacion-del-interprete"><i class="fa fa-check"></i><b>2.1.1</b> Instalación del interprete</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#instalacion-de-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Instalación de RStudio</a></li>
<li class="chapter" data-level="2.1.3" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#instalacion-de-paquetes"><i class="fa fa-check"></i><b>2.1.3</b> Instalación de paquetes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#tour-por-rstudio"><i class="fa fa-check"></i><b>2.2</b> Tour por RStudio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#panel-del-cli"><i class="fa fa-check"></i><b>2.2.1</b> Panel del CLI</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#panel-de-script"><i class="fa fa-check"></i><b>2.2.2</b> Panel de script</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#environment"><i class="fa fa-check"></i><b>2.2.3</b> Environment</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#paneles-miscelaneos"><i class="fa fa-check"></i><b>2.2.4</b> Paneles miscelaneos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-y-rstudio.html"><a href="r-y-rstudio.html#sistema-de-ayuda"><i class="fa fa-check"></i><b>2.2.5</b> Sistema de ayuda</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html"><i class="fa fa-check"></i><b>3</b> Estructuras de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#operadores-binarios"><i class="fa fa-check"></i><b>3.1</b> Operadores binarios</a></li>
<li class="chapter" data-level="3.2" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#asignacion-de-variables"><i class="fa fa-check"></i><b>3.2</b> Asignación de variables</a></li>
<li class="chapter" data-level="3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#vectors"><i class="fa fa-check"></i><b>3.3</b> Vectors</a></li>
<li class="chapter" data-level="3.4" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#cohercion"><i class="fa fa-check"></i><b>3.4</b> Coherción</a></li>
<li class="chapter" data-level="3.5" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#matrix-arrays"><i class="fa fa-check"></i><b>3.5</b> Matrix &amp; Arrays</a></li>
<li class="chapter" data-level="3.6" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#lists"><i class="fa fa-check"></i><b>3.6</b> Lists</a></li>
<li class="chapter" data-level="3.7" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#data.frame-data.table"><i class="fa fa-check"></i><b>3.7</b> data.frame, data.table</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>4</b> Funciones</a><ul>
<li class="chapter" data-level="4.1" data-path="funciones.html"><a href="funciones.html#composicion-de-funciones"><i class="fa fa-check"></i><b>4.1</b> Composicion de funciones</a></li>
<li class="chapter" data-level="4.2" data-path="funciones.html"><a href="funciones.html#vocabulario"><i class="fa fa-check"></i><b>4.2</b> Vocabulario</a></li>
<li class="chapter" data-level="4.3" data-path="funciones.html"><a href="funciones.html#extractores"><i class="fa fa-check"></i><b>4.3</b> Extractores</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>5</b> Tidy Data</a><ul>
<li class="chapter" data-level="5.1" data-path="tidy-data.html"><a href="tidy-data.html#necesidad-de-ordenar-la-informacion-antes-del-analisis"><i class="fa fa-check"></i><b>5.1</b> Necesidad de ordenar la información antes del análisis</a><ul>
<li class="chapter" data-level="5.1.1" data-path="tidy-data.html"><a href="tidy-data.html#definiciones"><i class="fa fa-check"></i><b>5.1.1</b> Definiciones</a></li>
<li class="chapter" data-level="5.1.2" data-path="tidy-data.html"><a href="tidy-data.html#cuales-son-los-posibles-problemas-de-estos-datos"><i class="fa fa-check"></i><b>5.1.2</b> <strong>¿Cuáles son los posibles problemas de estos datos?</strong></a></li>
<li class="chapter" data-level="5.1.3" data-path="tidy-data.html"><a href="tidy-data.html#ejercicio-identificar-el-data-set"><i class="fa fa-check"></i><b>5.1.3</b> Ejercicio: Identificar el data set</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="tidy-data.html"><a href="tidy-data.html#formatos-wide-ancho-and-long-largo"><i class="fa fa-check"></i><b>5.2</b> Formatos Wide (ancho) and Long (largo)</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso Data Wrangling con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="estructuras-de-datos" class="section level1">
<h1><span class="header-section-number">3</span> Estructuras de datos</h1>
<div id="operadores-binarios" class="section level2">
<h2><span class="header-section-number">3.1</span> Operadores binarios</h2>
<p>Las operaciones binarias funcionan como en todos los lenguajes:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="dv">3</span> <span class="op">-</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="dv">3</span> <span class="op">/</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="dv">4</span> <span class="op">%/%</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="dv">3</span> <span class="op">^</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="dv">2</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="dv">1</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="dv">-1</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">-5</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="dv">3</span> <span class="op">!=</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">FALSE</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Sin embargo, R generaliza el concepto de operador binario a otras estructuras de
datos. Este tema lo analizaremos a profundidad más adelante. A modo de ejemplo:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 2 4 6</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span></a></code></pre></div>
<pre><code>##  [1]  2  4  4  6  6  8  8 10 10 12</code></pre>
</div>
<div id="asignacion-de-variables" class="section level2">
<h2><span class="header-section-number">3.2</span> Asignación de variables</h2>
<p>Podemos hacer que un valor se almacene de manera persistente en la memoria RAM
asignandola a un <em>environment</em>. Para ello simplemente usamos el operador de
asignación, <code>&lt;-</code>:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3">x <span class="op">*</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">z &lt;-<span class="st"> </span>x <span class="op">^</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb36-2" data-line-number="2">z</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Existen otros operadores de asingación, sin embargo, estos no son recomendables
en las mejores prácticas de programación en R, por lo que no se detallan en este
curso. La manipulación de environments escapa de los objetivos del curso</p>
</div>
<div id="vectors" class="section level2">
<h2><span class="header-section-number">3.3</span> Vectors</h2>
<p>Los vectores y las listas son las estructuras fundamentales en R. A partir de
ellas se construyen todas las demás estructuras de datos más complejas.</p>
<p>A pesar de que en R no existen tipos, la implementación de R requiere que
existan <em>clases</em> base, para que el interprete pueda usar los <em>métodos</em>
correctos sobre la variable declarada.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">logical_vector &lt;-<span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">class</span>(logical_vector)</a></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">integer_vector &lt;-<span class="st"> </span>1L</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="kw">class</span>(integer_vector)</a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">numeric_vector &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">class</span>(numeric_vector)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">complex_vector &lt;-<span class="st"> </span><span class="fl">0.5</span> <span class="op">+</span><span class="st"> </span>2i</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">class</span>(complex_vector)</a></code></pre></div>
<pre><code>## [1] &quot;complex&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">character_vector &lt;-<span class="st"> &quot;a&quot;</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="kw">class</span>(character_vector)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">raw_vector &lt;-<span class="st"> </span><span class="kw">raw</span>(<span class="st">&quot;1&quot;</span>)</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="kw">class</span>(raw_vector)</a></code></pre></div>
<pre><code>## [1] &quot;raw&quot;</code></pre>
<p>Los vectores tienen tres atributos relevantes:</p>
<ul>
<li><code>typeof</code>, el tipo con el que se almacenan los datos en RAM. Este tipo es
análogo a C.</li>
<li><code>length</code>, la cantidad de elementos que componen al vector.</li>
<li><code>attributes</code>, metadatos arbitrarios.</li>
</ul>
<p>Para crear vectores con más de un elemento, se usa la función <code>c</code> (combine).</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">logical_vector &lt;-<span class="st"> </span><span class="kw">c</span>(T, <span class="ot">FALSE</span>, F, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb50-2" data-line-number="2">integer_vector &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3">numeric_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.7182</span>, <span class="fl">1.6180</span>, <span class="fl">3.1416</span>)</a>
<a class="sourceLine" id="cb50-4" data-line-number="4">character_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</a></code></pre></div>
<p>R introduce un tipo derivado de los anteriores, el <em>factor</em>. Esta clase combina
un <code>integer</code> vector con una tabla de nombres, que es un vector <code>character</code>. Esto
funciona para poder generar datos con etiquetas sin ocupar mayor espacio en
memoria (los <code>integer</code> ocupan menos memoria que los <code>character</code>):</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>))</a></code></pre></div>
<pre><code>## [1] male   female male   male   female male   female
## Levels: male female</code></pre>
</div>
<div id="cohercion" class="section level2">
<h2><span class="header-section-number">3.4</span> Coherción</h2>
<p>Como ya se mencionó, R es un lenguaje debilmente y dinámicamente tipado, en
consecuencia, cualquier valor puede ser comparado con otro:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="st">&quot;3&quot;</span> <span class="op">==</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Aún más, cualquier valor puede ser combinado con cualquier otro:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">1</span>, 1L, <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;    &quot;1&quot;    &quot;1&quot;    &quot;TRUE&quot;</code></pre>
<p>Esta característica es un error muy común para los principiantes en el lenguaje.
Sobre todo en el uso de vectores <code>factor</code>.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1">factor_vector &lt;-<span class="st">  </span><span class="kw">factor</span>(</a>
<a class="sourceLine" id="cb59-2" data-line-number="2">  <span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</a>
<a class="sourceLine" id="cb59-3" data-line-number="3">  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</a>
<a class="sourceLine" id="cb59-4" data-line-number="4">  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb59-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb59-6" data-line-number="6"><span class="kw">as.character</span>(factor_vector) <span class="op">==</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">as.integer</span>(factor_vector) <span class="op">==</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<p>Es por eso que se procura evitar la función factor hasta tener un conocimiento
más profundo de las estructuras de datos.</p>
<p>La regla de coherción es siempre convertir los tipos al tipos más general
posible, en orden de prioridad:</p>
<pre><code>logical &lt; integer &lt; double &lt; character</code></pre>
<p>Finalmente, podemos cohercionar de manera explícita nuestros datos con la
familia de funciones <code>as.*</code>, como se vió en ejemplo anterior.</p>
</div>
<div id="matrix-arrays" class="section level2">
<h2><span class="header-section-number">3.5</span> Matrix &amp; Arrays</h2>
<p>La primera generalización de un vector, es aumentar la cantidad de dimensiones
que puede tener. Para ello existe la estructura <code>matrix</code>:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb64-2" data-line-number="2">m</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1">m2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">18</span>, <span class="dv">3</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2">m2</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   13   16
## [2,]   11   14   17
## [3,]   12   15   18</code></pre>
<p>Para cualquier generalización a dimensiones superiores tenemos los <code>array</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">125</span>, <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb68-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    6   11   16   21
## [2,]    2    7   12   17   22
## [3,]    3    8   13   18   23
## [4,]    4    9   14   19   24
## [5,]    5   10   15   20   25
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   26   31   36   41   46
## [2,]   27   32   37   42   47
## [3,]   28   33   38   43   48
## [4,]   29   34   39   44   49
## [5,]   30   35   40   45   50
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   51   56   61   66   71
## [2,]   52   57   62   67   72
## [3,]   53   58   63   68   73
## [4,]   54   59   64   69   74
## [5,]   55   60   65   70   75
## 
## , , 4
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   76   81   86   91   96
## [2,]   77   82   87   92   97
## [3,]   78   83   88   93   98
## [4,]   79   84   89   94   99
## [5,]   80   85   90   95  100
## 
## , , 5
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]  101  106  111  116  121
## [2,]  102  107  112  117  122
## [3,]  103  108  113  118  123
## [4,]  104  109  114  119  124
## [5,]  105  110  115  120  125</code></pre>
<p>Del mismo modo que con los vectores, R está diseñado para soportar los
operadores binarios de manera directa sobre estas estructuras de datos:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="dv">5</span> <span class="op">*</span><span class="st"> </span>a</a></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    5   30   55   80  105
## [2,]   10   35   60   85  110
## [3,]   15   40   65   90  115
## [4,]   20   45   70   95  120
## [5,]   25   50   75  100  125
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]  130  155  180  205  230
## [2,]  135  160  185  210  235
## [3,]  140  165  190  215  240
## [4,]  145  170  195  220  245
## [5,]  150  175  200  225  250
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]  255  280  305  330  355
## [2,]  260  285  310  335  360
## [3,]  265  290  315  340  365
## [4,]  270  295  320  345  370
## [5,]  275  300  325  350  375
## 
## , , 4
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]  380  405  430  455  480
## [2,]  385  410  435  460  485
## [3,]  390  415  440  465  490
## [4,]  395  420  445  470  495
## [5,]  400  425  450  475  500
## 
## , , 5
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]  505  530  555  580  605
## [2,]  510  535  560  585  610
## [3,]  515  540  565  590  615
## [4,]  520  545  570  595  620
## [5,]  525  550  575  600  625</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">m <span class="op">*</span><span class="st"> </span>m2</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   52  112
## [2,]   22   70  136
## [3,]   36   90  162</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">m <span class="op">%*%</span><span class="st"> </span>m2</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]  138  174  210
## [2,]  171  216  261
## [3,]  204  258  312</code></pre>
<p>Realmente las matrices son arrays de dimension 2. Ambas estructuras generalizan
el concepto de <code>length</code> a <code>dim</code>.</p>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">3.6</span> Lists</h2>
<p>Las listas son una generalización, en otro sentido, de los vectores. Un vector
tiene la limitante de ser una estructura <em>flat</em> y que todos los elementos que
almacena son de la misma clase. Las listas no tienen estas dos restricciones.
Cada elemento de una lista puede ser de diferente clase, incluyendo listas, e.g:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1"><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb76-2" data-line-number="2">  <span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, 5L),</a>
<a class="sourceLine" id="cb76-3" data-line-number="3">  <span class="kw">raw</span>(<span class="dv">0</span>),</a>
<a class="sourceLine" id="cb76-4" data-line-number="4">  <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb76-5" data-line-number="5">    <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb76-6" data-line-number="6">      <span class="kw">list</span>(<span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb76-7" data-line-number="7">    )</a>
<a class="sourceLine" id="cb76-8" data-line-number="8">  )</a>
<a class="sourceLine" id="cb76-9" data-line-number="9">)</a></code></pre></div>
<pre><code>## [[1]]
## [[1]][[1]]
## [1] 1
## 
## [[1]][[2]]
## [1] &quot;a&quot;
## 
## [[1]][[3]]
## [1] 5
## 
## 
## [[2]]
## raw(0)
## 
## [[3]]
## [[3]][[1]]
## [[3]][[1]][[1]]
## [[3]][[1]][[1]][[1]]
## [1] NA</code></pre>
<p>También podemos nombrar los elementos de una lista con la finalidad de ocupar
los nombres para extraer los datos.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb78-2" data-line-number="2">  <span class="dt">numeric_vectors =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb78-3" data-line-number="3">    <span class="dt">numeric_vector =</span> numeric_vector,</a>
<a class="sourceLine" id="cb78-4" data-line-number="4">    <span class="dt">integer_vector =</span> integer_vector,</a>
<a class="sourceLine" id="cb78-5" data-line-number="5">    <span class="dt">complex_vector =</span> complex_vector</a>
<a class="sourceLine" id="cb78-6" data-line-number="6">  ),</a>
<a class="sourceLine" id="cb78-7" data-line-number="7">  <span class="dt">character_vector =</span> character_vector,</a>
<a class="sourceLine" id="cb78-8" data-line-number="8">  <span class="dt">raw_vector =</span> raw_vector</a>
<a class="sourceLine" id="cb78-9" data-line-number="9">)</a></code></pre></div>
<pre><code>## $numeric_vectors
## $numeric_vectors$numeric_vector
## [1] 2.7182 1.6180 3.1416
## 
## $numeric_vectors$integer_vector
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## $numeric_vectors$complex_vector
## [1] 0.5+2i
## 
## 
## $character_vector
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;
## 
## $raw_vector
## [1] 00</code></pre>
</div>
<div id="data.frame-data.table" class="section level2">
<h2><span class="header-section-number">3.7</span> data.frame, data.table</h2>
<p>Un data.frame es una forma especial de lista con la restricción de que todos los
elementos de la lista tengan la misma longitud, e.g.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">random_numbers &lt;-<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb80-2" data-line-number="2">  <span class="dt">uniform_vector =</span> <span class="kw">runif</span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb80-3" data-line-number="3">  <span class="dt">normal_vector =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb80-4" data-line-number="4">  <span class="dt">geometric_vector =</span> <span class="kw">rgeom</span>(<span class="dv">10</span>, <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb80-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb80-6" data-line-number="6"><span class="kw">as.data.frame</span>(random_numbers)</a></code></pre></div>
<pre><code>##    uniform_vector normal_vector geometric_vector
## 1     0.884599914   -0.84156896               17
## 2     0.161589777    0.73209818               36
## 3     0.649313667   -0.88216531                8
## 4     0.712934565    0.68611816                7
## 5     0.946912116   -0.99506880                1
## 6     0.850465824   -1.31742977                1
## 7     0.205348171   -1.88739605                3
## 8     0.008127087    0.03314262                2
## 9     0.622115838    0.99694104                0
## 10    0.762887654   -0.03755956                5</code></pre>
<p>O simplemente:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb82-2" data-line-number="2">  <span class="dt">uniform_vector =</span> <span class="kw">runif</span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb82-3" data-line-number="3">  <span class="dt">normal_vector =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb82-4" data-line-number="4">  <span class="dt">geometric_vector =</span> <span class="kw">rgeom</span>(<span class="dv">10</span>, <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb82-5" data-line-number="5">)</a></code></pre></div>
<pre><code>##    uniform_vector normal_vector geometric_vector
## 1     0.422537909   -2.38989428                4
## 2     0.205270816   -0.74800284               21
## 3     0.553747768   -0.09023079               11
## 4     0.112354198   -0.59894637               50
## 5     0.522242753    0.31278473               19
## 6     0.807584558   -0.42222387                1
## 7     0.830759862   -0.56500871                2
## 8     0.338709657   -0.24628471                1
## 9     0.634366973    0.92643609                1
## 10    0.007407494   -2.42464017               12</code></pre>
<p>Esta estructura de datos va a ser la principal forma de traducir nuestra forma
de pensar a R, ya que es lo más cercano a una spreadsheet. En este caso, cada
columna es una variable o dimensión y es un elemento de una lista.</p>
<p>La librería <code>data.table</code> presenta una forma especial de los <code>data.frame</code> con
muchísimas mejoras. Este curso se trata básicamente de como manipular estas
estructuras de datos y conocer las ventajas de usar data.table.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-y-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="funciones.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
